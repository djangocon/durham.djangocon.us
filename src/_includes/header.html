{% comment %}
  Unified header component for all conference phases.
  Supports optional `preview_phase` variable for phase preview pages.
{% endcomment %}

{% assign current_phase = preview_phase | default: site.phase %}

{% if current_phase == "active" and site.banner %}
<aside class="fixed lg:relative lg:py-6 text-center justify-around leading-tight h-[40px] xl:text-lg z-[200] top-0 block bg-red text-white flex items-center justify-center px-4 w-full">
  <a href="/schedule" class="hidden text-white no-underline md:inline-flex">
   ðŸŽ‰ &nbsp; <strong class="underline">Welcome to Durham!</strong> &nbsp; ðŸŽ‰
  </a>
  <a href="{{ site.ticket_link }}" class="text-white no-underline">
     ðŸŽ«  &nbsp;<strong class="underline">Tickets Still Available!</strong>&nbsp; ðŸŽ«
  </a>
</aside>
{% endif %}

<header id="SiteHeader" class="{% if current_phase == 'landing' %}fixed top-0 z-40 w-full py-4 bg-white lg:py-6 lg:relative{% else %}relative w-full py-4 lg:py-6{% endif %}">
  <div class="wrapper">
    <nav class="flex flex-wrap" role="navigation">
      <div class="flex items-center justify-between w-full lg:max-w-max lg:flex-1">
        <a href="/" aria-label="Go to homepage"{% if current_phase == 'archived' %} class="fill-white"{% endif %}>
          <img
            src="/assets/img/theme/logo.svg"
            alt="DjangoCon US"
            class="{% if current_phase == 'landing' %}h-12 lg:h-20{% else %}h-16 h-11 xl:h-24{% endif %}">
        </a>
        <button id="NavToggler" class="{% if current_phase == 'landing' %}lg:hidden{% elsif current_phase == 'archived' %}p-2 bg-white lg:hidden{% else %}site-nav-toggler is-closed{% endif %}">
          {% if current_phase == 'active' %}<span aria-hidden="true" class="hidden xs:block">Menu</span>{% endif %}
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8{% if current_phase == 'active' %} icon-menu{% endif %}" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
          </svg>
          {% if current_phase == 'active' %}
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 icon-close" aria-hidden="true">
            <path d="M6 6L17.6673 17.6673" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M6 18L17.6673 6.33274" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          {% endif %}
          <span class="sr-only">Toggle navigation</span>
        </button>
      </div>
      {% include "nav.html" %}
    </nav>
  </div>
</header>
